/** * @author xperiments3 */import com.xperiments.xml.XMLoader;import org.asapframework.events.EventDelegate; class com.madhouse.Fiestas {		private static var instance : Fiestas;	private var _xmloder:XMLoader;	private var _xmlData:Object;	private var _depth:Number;	private var _timeline : MovieClip;	/**	 * @return singleton instance of Fiestas	 */	public static function getInstance() : Fiestas {		if (instance == null)			instance = new Fiestas();		return instance;	}		private function Fiestas()	{			}		public function init( _mc:MovieClip )	{		_timeline = _mc;		_depth = _timeline.getNextHighestDepth( );	}		public function loadData( )	{		_xmloder = new XMLoader('http://localhost/madhouse/categorias.php?rnd='+getTimer( ), true );		_xmloder.addEventListener( 'onLoad', EventDelegate.create( this, dataLoaded ) );			}	private function dataLoaded( )	{		_xmlData = _xmloder.configuration.data;		createUI( );	}		private function createUI() : Void	{		_timeline.createEmptyMovieClip( 'FiestasContainer', _depth );		for ( var i:Number = 0; i< _xmlData.parties.party.length; i++ )		{			trace( _xmlData.parties.party[ i ].id.data );											}					}}